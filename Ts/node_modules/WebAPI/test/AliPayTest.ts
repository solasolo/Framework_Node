import { AppRoot } from 'CommonUtils';
AppRoot(__dirname + '/../../..');

const AliPay = require('../lib/ali_pay.js');
const SysLogger = require('Logger');
const Tester = require('TestToolkit');

SysLogger.Append('Console');

let pay = new AliPay();

const data = {
    "appid": "wxf8ba4e4555d13334",
    "mch_id": "1409124402",
    "goods_tag": "helloworld"
};

const xml = "<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[fromUser]]></FromUserName><CreateTime>1348831860</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[this  is  a  test]]></Content><MsgId>1234567890123456</MsgId></xml>";

//console.log(pay.Signature(data));
//console.log(data);
//console.log(pay.ToXML(data));

//Facility.DefaultThen(pay.ToObject(xml));
Tester.DefaultThen(pay.Query('1234567890'));

