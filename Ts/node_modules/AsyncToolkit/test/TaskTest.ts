import { AsynTask } from '../lib/Task';

let task = new AsynTask((success: (d?: any) => any) => {
    setTimeout(function () {
        console.log("run");

        success();
    }, 100);
});

task = task.then(function (value: any) {
    console.log('callback');
});
console.log(task);

task = task.then(function () {
    console.log('Finished');
});
console.log(task);

task = task.catch( (e: Error) => {
    console.log(e);
});
console.log(task);


console.log('end');